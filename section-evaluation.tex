\begin{subsection}{Result}
    \label{subsec:evaluation:results}
    
    \definecolor{colorvm}{RGB}{142, 23,  4}
    \definecolor{colordm}{RGB}{ 62,111,186}
    \definecolor{colorvq}{RGB}{172,196, 75}

    \pgfplotsset{
        main-raw/.style={every mark/.append style={solid, fill=gray},thick},
        main/.style={smooth,main-raw},
        query1/.style={color=colorvm,main,mark=*,mark options={solid,fill=colorvm},mark size=0.3},
        query2/.style={color=colordm,main,mark=square*,mark options={solid,fill=colordm},mark size=0.3},
        query3/.style={color=colorvq,main,mark=triangle*,mark options={solid,fill=colorvq},mark size=0.3},
        main-bar/.style={},
        query1-bar/.style={black,fill=colorvm,main-bar},
        query2-bar/.style={black,fill=colordm,main-bar},
        query3-bar/.style={black,fill=colorvq,main-bar},
        avg/.style={},
        max/.style={dashed},
        min/.style={dashed},
        query-dur-base/.style={%
            xmin=0,
            xmax=9,
            ylabel={Lookup (ms)},
            width=6cm,
            height=4cm,
            every axis legend/.append style={at={(0.6,1)},anchor=north},
            max space between ticks=30pt,try min ticks=2,
            %y label style={at={(-55pt,50pt)}, rotate=-90, anchor=west},
            legend columns=3,
        },
        query-dur/.style={%
            query-dur-base,
            xlabel={Version},
            legend image post style={sharp plot, line width=0.5pt},
            x label style={at={(0pt,-30pt)}, anchor=north west},
        },
        query-dur-bar/.style={%
            query-dur-base,
            ybar,
            legend image code/.code={%
\draw[##1,/tikz/.cd,bar width=3pt,yshift=-0.2em,bar shift=0pt]
plot coordinates {(0cm,0.8em) (2*\pgfplotbarwidth,0.6em)};},
            xmajorticks=false,
            xlabel={},
        },
        discard if below/.style 2 args={
            x filter/.append code={
                \edef\tempa{\thisrow{#1}}
                \edef\tempb{#2}
                \ifdim\tempa pt<\tempb pt
                \else
                    \def\pgfmathresult{inf}
                \fi
            }
        },
        discard if not/.style 2 args={
            x filter/.append code={
                \edef\tempa{\thisrow{#1}}
                \edef\tempb{#2}
                \ifx\tempa\tempb
                \else
                    \def\pgfmathresult{inf}
                \fi
            }
        }
    }
    
    \begin{figure*}[p]
      \begin{subfigure}{0.3\textwidth}
          \centering
          \input{img/query-dur-vm-low.tex}
          \caption{Low result cardinality}
          \label{fig:query-dur-vm-low}
      \end{subfigure}
      \hspace{.022\textwidth}
      \begin{subfigure}{0.3\textwidth}
          \centering
          \input{img/query-dur-vm-high.tex}
          \caption{High result cardinality}
          \label{fig:query-dur-vm-high}
      \end{subfigure}
      \caption{Average lookup times for VM queries}
      \label{fig:query-dur-vm}
    \end{figure*}
    
    \begin{figure*}[p]
      \begin{subfigure}{0.3\textwidth}
          \centering
          \input{img/query-dur-dm-low.tex}
          \caption{Low result cardinality}
          \label{fig:query-dur-dm-low}
      \end{subfigure}
      \hspace{.022\textwidth}
      \begin{subfigure}{0.3\textwidth}
          \centering
          \input{img/query-dur-dm-high.tex}
          \caption{High result cardinality}
          \label{fig:query-dur-dm-high}
      \end{subfigure}
      \caption{Average lookup times for DM queries from version 0 to all other versions}
      \label{fig:query-dur-dm}
    \end{figure*}
    
    \begin{table}[b]
        \centering
        \DTLloaddb{slow}{data/s-low/_average_vq.csv}
        \DTLloaddb{shigh}{data/s-high/_average_vq.csv}
        \DTLloaddb{plow}{data/p-low/_average_vq.csv}
        \DTLloaddb{phigh}{data/p-high/_average_vq.csv}
        \DTLloaddb{olow}{data/o-low/_average_vq.csv}
        \DTLloaddb{ohigh}{data/o-high/_average_vq.csv}
        \DTLloaddb{polow}{data/po-low/_average_vq.csv}
        \DTLloaddb{pohigh}{data/po-high/_average_vq.csv}
        \DTLloaddb{solow}{data/so-low/_average_vq.csv}
        \DTLloaddb{splow}{data/sp-low/_average_vq.csv}
        \DTLloaddb{sphigh}{data/sp-high/_average_vq.csv}
        \DTLloaddb{spo}{data/spo/_average_vq.csv}
        \begin{tabularx}{\linewidth}{l|rr}
            & \textbf{Low cardinality} & \textbf{High cardinality} \\
            \hline
            \textbf{S 1} & \DTLforeach*{slow}{\v=lookup-mus-1}{\v} & \DTLforeach*{shigh}{\v=lookup-mus-1}{\v} \\
            \textbf{S all} & \DTLforeach*{slow}{\v=lookup-mus-inf}{\v} & \DTLforeach*{shigh}{\v=lookup-mus-inf}{\v} \\
            \textbf{P 1} & \DTLforeach*{plow}{\v=lookup-mus-1}{\v} & \DTLforeach*{phigh}{\v=lookup-mus-1}{\v} \\
            \textbf{P all} & \DTLforeach*{plow}{\v=lookup-mus-inf}{\v} & \DTLforeach*{phigh}{\v=lookup-mus-inf}{\v} \\
            \textbf{O 1} & \DTLforeach*{olow}{\v=lookup-mus-1}{\v} & \DTLforeach*{ohigh}{\v=lookup-mus-1}{\v} \\
            \textbf{O all} & \DTLforeach*{olow}{\v=lookup-mus-inf}{\v} & \DTLforeach*{ohigh}{\v=lookup-mus-inf}{\v} \\
            \textbf{PO 1} & \DTLforeach*{polow}{\v=lookup-mus-1}{\v} & \DTLforeach*{pohigh}{\v=lookup-mus-1}{\v} \\
            \textbf{PO all} & \DTLforeach*{polow}{\v=lookup-mus-inf}{\v} & \DTLforeach*{pohigh}{\v=lookup-mus-inf}{\v} \\
            \textbf{SO 1} & \DTLforeach*{solow}{\v=lookup-mus-1}{\v} &  \\
            \textbf{SO all} & \DTLforeach*{solow}{\v=lookup-mus-inf}{\v} &  \\
            \textbf{SP 1} & \DTLforeach*{splow}{\v=lookup-mus-1}{\v} & \DTLforeach*{sphigh}{\v=lookup-mus-1}{\v} \\
            \textbf{SP all} & \DTLforeach*{splow}{\v=lookup-mus-inf}{\v} & \DTLforeach*{sphigh}{\v=lookup-mus-inf}{\v} \\
            \textbf{SPO} & \DTLforeach*{spo}{\v=lookup-mus-1}{\v} &  \\
        \end{tabularx}
        \caption{Average lookup times for VQ queries in milliseconds}
        \label{fig:query-dur-dm}
    \end{table}

\end{subsection}
